import{d as D,r as g,c as P,a as y,b as e,e as f,o as d,w as s,f as l,g as V,t as k,u as r,h as j,i as b,F as A,j as F}from"./index-CWZq7pna.js";const w=D("photo",()=>{const u=g([]),t=g(!1),n=g({}),c=P(()=>u.value),i=P(()=>t.value),_=P(()=>n.value);function a(h){u.value=h}function o(){t.value=!0}function p(){t.value=!1}function m(h){n.value=h}async function v(){const h=await y.get("https://jsonplaceholder.typicode.com/photos?_limit=10");a(h.data)}return{photos:u,dialogVisible:t,currentPhoto:n,getAllPhotos:c,getDialogVisible:i,getCurrentPhoto:_,setPhotos:a,showDialog:o,hideDialog:p,setCurrentPhoto:m,fetchPhotos:v}}),U={__name:"Photo",props:{photo:{type:Object,required:!0}},setup(u){const t=u,n=w();function c(){n.setCurrentPhoto(t.photo),n.showDialog()}return(i,_)=>{const a=e("v-card-title"),o=e("v-img"),p=e("v-card-text"),m=e("v-card"),v=e("v-col");return d(),f(v,{cols:"4"},{default:s(()=>[l(m,{onClick:c},{default:s(()=>[l(a,null,{default:s(()=>[V(k(u.photo.title),1)]),_:1}),l(p,null,{default:s(()=>[l(o,{width:"280",height:"200",src:u.photo.url},null,8,["src"])]),_:1})]),_:1})]),_:1})}}},$={__name:"PhotoForm",emits:["addPhoto"],setup(u,{emit:t}){const n=g(""),c=g(null),i=t;function _(){const a=new FileReader;a.onload=()=>{const o={id:Date.now(),title:n.value,url:a.result};i("addPhoto",o)},c.value&&a.readAsDataURL(c.value)}return(a,o)=>{const p=e("v-text-field"),m=e("v-file-input"),v=e("v-btn"),h=e("v-row"),C=e("v-container");return d(),f(C,null,{default:s(()=>[l(h,{class:"d-flex",align:"center",justify:"start"},{default:s(()=>[l(p,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=x=>n.value=x),label:"Title"},null,8,["modelValue"]),l(m,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=x=>c.value=x),label:"Image"},null,8,["modelValue"]),l(v,{variant:"outlined",onClick:_},{default:s(()=>[...o[2]||(o[2]=[V(" Add ",-1)])]),_:1})]),_:1})]),_:1})}}},B={__name:"PhotoDialog",setup(u){const t=w(),n=P(()=>`Names of photo = ${t.currentPhoto.title}`);return(c,i)=>{const _=e("v-card-title"),a=e("v-img"),o=e("v-card-text"),p=e("v-card"),m=e("v-dialog");return d(),f(m,{modelValue:r(t).dialogVisible,"onUpdate:modelValue":i[0]||(i[0]=v=>r(t).dialogVisible=v),"max-width":"600","onClick:outside":r(t).hideDialog},{default:s(()=>[l(p,null,{default:s(()=>[l(_,null,{default:s(()=>[V(k(n.value),1)]),_:1}),l(o,null,{default:s(()=>[l(a,{src:r(t).currentPhoto.url},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"])}}},N={key:1},L={__name:"PhotoPage",setup(u){const t=w();j(()=>{t.fetchPhotos()});function n(c){t.photos.push(c)}return(c,i)=>{const _=e("v-row"),a=e("v-container");return d(),f(a,null,{default:s(()=>[r(t).photos.length<11?(d(),f(r($),{key:0,onAddPhoto:n})):(d(),b("div",N,"You can not add more photos")),l(_,null,{default:s(()=>[(d(!0),b(A,null,F(r(t).photos,o=>(d(),f(r(U),{key:o.id,photo:o},null,8,["photo"]))),128))]),_:1}),l(r(B))]),_:1})}}};export{L as default};
